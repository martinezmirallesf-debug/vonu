@import "tailwindcss";

/* ✅ Poppins en TODO el proyecto */
:root {
  font-family: var(--font-poppins), ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, "Noto Sans",
    "Apple Color Emoji", "Segoe UI Emoji";
}

/* ✅ Asegura que Tailwind "font-sans" sea Poppins */
.font-sans {
  font-family: var(--font-poppins), ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, "Noto Sans",
    "Apple Color Emoji", "Segoe UI Emoji";
}

/* ✅ Importante: react-markdown + prose a veces mete otra font */
.prose,
.prose * {
  font-family: var(--font-poppins), ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, "Noto Sans",
    "Apple Color Emoji", "Segoe UI Emoji" !important;
}


/* ✅ Poppins global (fallback sólido) */
html,
body {
  font-family: var(--font-poppins), ui-sans-serif, system-ui, -apple-system,
    Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
}

/* ---------- Animaciones UI Vonu ---------- */

/* Burbuja suave: aparece con opacity + pequeño lift */
@keyframes bubbleIn {
  0% {
    opacity: 0;
    transform: translateY(10px) scale(0.98);
    filter: blur(2px);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
    filter: blur(0);
  }
}

.bubble-in {
  animation: bubbleIn 420ms cubic-bezier(0.16, 1, 0.3, 1);
  will-change: transform, opacity, filter;
}

/* Variante un pelín más lenta para el asistente */
.bubble-in-slow {
  animation: bubbleIn 520ms cubic-bezier(0.16, 1, 0.3, 1);
  will-change: transform, opacity, filter;
}

/* Typing dots (si lo usamos luego) */
@keyframes dotPulse {
  0%,
  80%,
  100% {
    opacity: 0.25;
  }
  40% {
    opacity: 1;
  }
}

.typing-dots::after {
  content: "…";
  letter-spacing: 2px;
  animation: dotPulse 1.1s infinite;
}

/* ---- Fix caret streaming (▍) para que no se vaya debajo del último bloque Markdown ---- */
.assistant-md > :last-child {
  display: inline;
}

.typing-caret {
  display: inline-block;
  vertical-align: baseline;
  line-height: 1;
  margin-left: 4px;
}

/* ✅ EVITA "MODO CÓDIGO" EN TUTOR/PIZARRA */
.assistant-md pre,
.assistant-md code {
  font-family: inherit !important; /* <- adiós monospace */
}

/* Y que el bloque no parezca bloque de código */
.assistant-md pre {
  background: transparent !important;
  padding: 0 !important;
  margin: 0 !important;
  border-radius: 0 !important;
  white-space: pre-wrap; /* respeta saltos pero no se sale */
}

/* Evita flashes claros dentro del contenedor Excalidraw */
.excalidraw,
.excalidraw .App-menu_top,
.excalidraw .layer-ui__wrapper {
  background: transparent !important;
}
